function Forme = DeterminationForme(imagette_col, Seuil_down)      %Seuillage de l'imagette  imagette_seuil = im2double(im2bw(rgb2gray(imagette_col), Seuil_down));  imagette_seuil = imerode(imagette_seuil, [0,1,0;1,1,1;0,1,0]);  [hi,wi] = size(imagette_seuil);  %Détermination du gradient  [Gx,Gy] = gradient(imagette_seuil);  %Détermination de la norme du gradient  NG = Gx.^2 + Gy.^2;  %Détection de droites  [H,theta,Rho] = hough(NG,'Thetaresolution', 5);  %Seuillage  H_seuil = (H > max(max(H))/2).*H;  Maximas_H = imregionalmax(H_seuil);  %Le nombre de maximas permet de déterminer les formes (ou un traitement plus approfondi)  Indices_maxi = find(Maximas_H);  L_indices = length(Indices_maxi)  if (L_indices == 4) %Carre    Forme = "Carre";  elseif (L_indices == 3) %Triangle    Forme = "Triangle";  elseif ((L_indices <= 8) && (L_indices >= 5)) %Croix ou carre_creux        if imagette_seuil(floor(hi/2),floor(wi/2)) == 1  %Carre_creux      Forme = "Carre_creux";    else    %Croix      Forme = "Croix";      endif  else %Rond ou Coeur    [C,R] = imfindcircles(im2bw(NG,0.01),[length(NG)/15,length(NG)/3],'SENSITIVITY',0.9);    nombre = length(R);        if nombre == 1    %Rond      Forme = "Rond";    else    %Coeur      Forme = "Coeur";      endif  endif          figure(6)  subplot(221)  imshow(imagette_seuil)  title('Imagette seuillee pour determination de la forme')  subplot(222)  imshow(NG,[]);  title('Norme du gradient de l''image');  subplot(223)  imshow(Gx,[]);  title('GRadient suivant x de l''image');  subplot(224)  title('Gradient suivant y de l''image');  imshow(Gy,[]);  figure(7)  subplot(221);  imshow(Maximas_H,[]);  title('Matrice d''accumlation detection de droites')
endfunction
